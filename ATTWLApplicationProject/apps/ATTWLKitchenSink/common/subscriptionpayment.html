
	<div class="header">
		<span class="backbutton"><span class="innerText"
			onclick="backNav();">Back</span></span> <span class="headerTitle"
			style="margin-left: 130px;">Subscription</span>
	</div>
	<div id="iframe" class="iframe">
			<iframe id="transactionFrame" frameborder="0" height="100%" width="100%"
			scrolling="yes"  ></iframe>
	</div>
	<div class="body" align="center">
		<table class="table">
			<tr class="trow">
				<td colspan="2" style="padding-bottom: 10px">
					<button type="button" class="submitextralarge" align="center"
						onclick="setSubscription()">Charge User (Subscription)</button>
				</td>
			</tr>
			<tr>
				<td colspan="2" style="padding-bottom: 10px;">
					<table cellspacing="0" cellpadding="0" class="txtable" id="txtable">
					</table>
				</td>
			</tr>
			<tr class="trow">
				<td colspan="2" style="padding-bottom: 10px">
					<button type="button" id="btnsubscriptionstatus"
						class="submitextralarge" align="center"
						onclick="getSubscriptionStatus()">Subscription Status</button>
				</td>
			</tr>
			<tr class="trow">
				<td colspan="2" style="padding-bottom: 10px">
					<button type="button" id="btnsubscriptiondetails"
						class="submitextralarge" align="center"
						onclick="getSubscriptionDetails();">Subscription Details
					</button>
				</td>
			</tr>
			<tr class="trow">
				<td colspan="2" style="padding-bottom: 10px">
					<button type="button" id="refundtransaction"
						class="submitextralarge" align="center" onclick="refund()">
						Refund Subscription</button>
				</td>
			</tr>
			<tr class="trow">
				<td colspan="2" style="padding-bottom: 10px">
					<button type="button" class="submitextralarge" align="center"
						onclick="openDialog('notification.html')">Notification</button>
				</td>
			</tr>
		</table>
	</div>
	<script type="text/javascript" src="js/payment.js"></script>
	<script type="text/javascript" language="javascript">
		page = "subscriptionpayment.html";
		title = "subscription";
	   function backNav()
	   {
	      WL.Logger.debug('Back Button Clicked');
		  $('#pagePort').load("payment.html",'',function(){});
		}
			function refund() {
			WL.Logger.debug('Refund Subscription Button Clicked');
			if(window.localStorage.accessToken===undefined)
			{
				generateAccessToken(function(){
					ATT.refundTransaction();
				});
			}
			else
			{
				ATT.refundTransaction();
			}
				
			}
			function setSubscription() {
			WL.Logger.debug('set Subscription Button clicked');
				ATT.transaction("subscription");
			}

			function getSubscriptionStatus() {
			WL.Logger.debug('Subscription Status Button clicked');
			if(window.localStorage.accessToken===undefined)
			{
				generateAccessToken(function(){
					ATT.getSubscriptionStatus();
				});
			}
			else
			{
				ATT.getSubscriptionStatus();
			}
				
			}

			function getSubscriptionDetails() {
			WL.Logger.debug('Subscription Details Button clicked');
			if(window.localStorage.accessToken===undefined)
			{
				generateAccessToken(function(){
					ATT.getSubscriptionDetails();
				});
			}
			else
			{
				ATT.getSubscriptionDetails();
			}
				
			}

		
			function openDialog(page) {
			WL.Logger.debug('Notification Button clicked');
				$('#pagePort').load(page,'',function(){});
			}
			function initialize() {
				$("#iframe").hide();
				$("#btnsubscriptionstatus").attr("disabled", true);
				$("#btnsubscriptiondetails").attr("disabled", true);
				$("#refundtransaction").attr("disabled", true);
			}
			initialize();
		</script>
