Ext.data.JsonP.SpeechAdapter({"tagname":"class","name":"SpeechAdapter","autodetected":{},"files":[{"filename":"attWorklightApiDoc.js","href":"attWorklightApiDoc.html#SpeechAdapter"}],"members":[{"name":"speechToText","tagname":"method","owner":"SpeechAdapter","id":"method-speechToText","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-SpeechAdapter","short_doc":"The Speech API enables your app to transcribe speech (audio) to text using different contexts. ...","component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Files</h4><div class='dependency'><a href='source/attWorklightApiDoc.html#SpeechAdapter' target='_blank'>attWorklightApiDoc.js</a></div></pre><div class='doc-contents'><p>The Speech API enables your app to transcribe speech (audio) to text using different contexts.</p>\n\n<p>Authorization Scope: <b>SPEECH</b></p>\n\n\n<p><b>The SpeechAdapter API provides the following methods.</b></p>\n\n<p><a href=\"#!/api/SpeechAdapter-method-speechToText\" rel=\"SpeechAdapter-method-speechToText\" class=\"docClass\">speechToText</a></p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-speechToText' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='SpeechAdapter'>SpeechAdapter</span><br/><a href='source/attWorklightApiDoc.html#SpeechAdapter-method-speechToText' target='_blank' class='view-source'>view source</a></div><a href='#!/api/SpeechAdapter-method-speechToText' class='name expandable'>speechToText</a>( <span class='pre'>invocationData, callbacks</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Retrieves a text translation of the specified audio file using the specified speech context. ...</div><div class='long'><p>Retrieves a text translation of the specified audio file using the specified speech context.</p>\n\n<p><b>Limitations</b></p>\n\n<p>This method has the following limitations.</p>\n\n\n<ul>\n  <li>It accepts only an audio data file or streaming (chunked) audio data as input.</li>\n  <li>\n    If the Speech service cannot transcribe the audio data,\n    the Speech API returns the HTTP status code <b>200 OK</b>,\n    the Status <b>Speech Not Recognized</b>,\n    and the response contains an empty <b>NBest</b> parameter\n    when the <b>accept</b> value is <b>application/json</b> or <b>application/xml</b>\n    or the response contains a <b>emma:no-input=\"true\"</b> attribute\n    when the <b>accept</b> value is <b>application/emma</b>.\n  </li>\n  <li>The Speech API does not retry failed requests.</li>\n</ul>\n\n\n<p>Authorization Scope: <b>client_credentials</b></p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>invocationData</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>adapter</span> : String<div class='sub-desc'><p>Specifies the name of the adapter. The only defined value for this parameter is <b>SpeechAdapter</b>.</p>\n</div></li><li><span class='pre'>procedure</span> : String<div class='sub-desc'><p>Specifies the name of the procedure. The only defined value for this parameter is <b>speechToText</b>.</p>\n</div></li><li><span class='pre'>parameters</span> : Array<div class='sub-desc'><p>Specifies an array that contains a JSON object.</p>\n<ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>accept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n  <li><b>application/emma+xml</b></li>\n</ul>\n\n\n<p>The default is <b>application/json</b>.</p>\n\n</div></li><li><span class='pre'>fileObject</span> : String<div class='sub-desc'><p>Specifies the base-64 encoded file data.</p>\n</div></li><li><span class='pre'>accessToken</span> : String<div class='sub-desc'><p>Specifies the access token, which is the value of the <b>access_token</b> parameter returned in the <a href=\"#!/api/OAuthAdapter-method-getAccessToken\" rel=\"OAuthAdapter-method-getAccessToken\" class=\"docClass\">OAuthAdapter.getAccessToken</a> method response.</p>\n</div></li><li><span class='pre'>XSpeechContent</span> : String (optional)<div class='sub-desc'><p>Specifies the speech context that is applied to the transcribed text to improve the accuracy of the results. The defined values for this parameter are:</p>\n\n<ul>\n  <li>BusinessSearch\n    <br/>\n    The text applies to a search for a business.</li>\n  <li>Generic\n    <br/>\n    The text applies to a context that is not otherwise shown. This is the default.</li>\n  <li>QuestionAndAnswer\n    <br/>\n    The text applies to a question-and-answer session.</li>\n  <li>SMS\n    <br/>\n    The text applies to an SMS or MMS text message.</li>\n  <li>UVerseEPG\n    <br/>\n    The text applies to a U-verse session. This value is appropriate for all apps that provide a broad range of TV applications.</li>\n  <li>Voicemail\n    <br/>\n    The text applies to a voicemail.</li>\n  <li>Websearch\n    <br/>\n    The text applies to a web search.</li>\n</ul>\n\n</div></li><li><span class='pre'>contentType</span> : String<div class='sub-desc'><p>Specifies the type of base64-encoded contents in the file specified in <b>filePath</b>. The defined values for this parameter are:</p>\n\n<ul>\n  <li>audio/amr</li>\n  <li>audio/amr-wb</li>\n  <li>audio/wav</li>\n  <li>audio/x-wav</li>\n  <li>audio/x-speex</li>\n</ul>\n\n</div></li><li><span class='pre'>contentLength</span> : Number<div class='sub-desc'><p>The length, in bytes, of the audio. This parameter is required for a non-streaming request on iOS.</p>\n</div></li></ul></div></li></ul></div></li></ul></div></li><li><span class='pre'>callbacks</span> : Object<div class='sub-desc'><p>An object containing the success and failure callbacks.</p>\n<ul><li><span class='pre'>onSuccess</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method returns succeeds.</p>\n</div></li><li><span class='pre'>onFailure</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method fails.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>An object containing the results of the call. This object has the following parameters.</p>\n\n<p>The following parameters are returned in the response when the <b>accept</b> value is <b>application/emma+xml</b>.</p>\n\n<ul>\n  <li>emma:emma : Object\n    <br/>\n    Container for the <a href\"http://www.w3.org/TR/emma/\">EMMA</a> (Extensible Multimodal Annotation markup language) parameters.\n    <ul>\n      <li>version : Number\n        <br/>\n        Specifies the version of EMMA.</li>\n      <li>emma:one-of \n        <br/>\n        Container for the speech interpretations.\n        <ul>\n          <li>disjunction-type : String\n            <br/>\n            Specifies the disjunction type. The only defined value for this parameter is <b>recognition</b>.</li>\n          <li>emma:medium : String\n            <br/>\n            Specifies the acousting medium. The only defined value for this parameter is <b>acoustic</b>.</li>\n          <li>emma:mode : String\n            <br/>\n            Specifies the input mode. The only defined value for this parameter is <b>voice</b>.</li>\n          <li>emma:process : String\n            <br/>\n            Specifies the resource used to process the speech to text.\n            <ul>\n              <li>id : String\n                <br/>\n                Specifies the unique ID of the process that converted the speech to text.</li>\n            </ul>\n          </li>\n          <li>emma:interpretation : Object\n            <br/>\n            Container for the interpretation results.\n            <ul>\n              <li>id : Number\n                <br/>\n                Specifies the ID of the interpretation.</li>\n              <li>emma:tokens : String\n                <br/>\n                Specifies the initial interpretation of the speech. This value is the same as value for <b>Hypothesis</b>.</li>\n              <li>emma:confidence : String\n                <br/>\n                Specifies the overall confidence in the transcription, from <b>0.0</b> (not confident) to <b>1.0</b> (very confident).</li>\n              <li>emma:lang : String\n                <br/>\n                Specifies the language of the text in the response.</li>\n              <li>Grade : String\n                <br/>\n                Specifies the relative grade of the resulting text in the <b>ResultText</b> parameter. The defined values for this parameter are:\n                <ul>\n                  <li>accept\n                    <br/>\n                    The text in the <b>ResultText</b> parameter has acceptable confidence and should be accepted.</li>\n                  <li>confirm\n                    <br/>\n                    The text in the <b>ResultText</b> parameter has lower confidence and should be independently confirmed.</li>\n                  <li>reject\n                    <br/>\n                    The text in the <b>ResultText</b> parameter has low confidence and should be rejected.</li>\n                </ul>\n              </li>\n              <li>ResultText : String\n                <br/>\n                Specifies the resulting text based on the context.</li>\n              <li>ResultTextWords : Object\n                <br/>\n                Container for the words of the <b>ResultText</b> parameter value. This value may omit some of the words of the <b>ResultText</b> parameter value and may be empty, but it never contains words that are not in the <b>ResultText</b> parameter value.\n                <ul>\n                  <li>ResultTextWord : String\n                    <br/>\n                    Container for each word in the <b>ResultText</b> parameter, with a confidence level.</li>\n                  <li>emma:confidence : Number\n                    <br/>\n                    Specifies the confidence in the word, from <b>0.0</b> (not confident) to <b>1.0</b> (very confident).</li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n</ul>\n\n\n<p>The following parameters are returned in the response when the <b>accept</b> value is <b>application/json</b> or <b>application/xml</b>. Note that some of the following parameters are only present when the <b>xSpeechContext</b> value is <b>TV</b>.</p>\n\n<ul>\n  <li>Recognition : Object\n    <br/>\n    Container for the following parameters.\n    <ul>\n      <li>Status : String\n        <br/>\n        Specifies the status of the request. The defined values for this parameter are:\n        <ul>\n          <li>Ok</li>\n          <li>Speech Not Recognized</li>\n        </ul>\n      </li>\n      <li>ResponseId : String\n        <br/>\n        Specifies the unique identifier for the response.</li>\n      <li class=\"optional\">Info : Object\n        <br/>\n        Container for television information. The following parameters are only present when the <b>xSpeechContext</b> value is <b>TV</b>.\n        <ul>\n          <li>actionType : String\n            <br/>\n            Specifies the high-level action to associate with the results. The defined values for this parameter are:\n            <ul>\n              <li>COMMAND\n                <br/>\n                Specifies that the input audio was interpreted as a U-verse command.</li>\n              <li>EPG\n                <br/>\n                Specifies that the request was interpreted as a request to an Electronic Programming Guide (EPG) service. The response from that service response is in the <b>search</b> parameter.</li>\n            </ul>\n          </li>\n          <li>interpretation : Object\n            <br/>\n            Container for interpreted results.\n            <ul>\n              <li>genre.id : String\n                <br/>\n                Specifies an identifier for a genre matching all or part of the speech.</li>\n              <li>genre.words : String\n                <br/>\n                Specifies the keywords associated with the <b>genre.id</b> value.</li>\n              <li>station.name : String\n                <br/>\n                The name of the station. This value should match or partially match the call sign of the station, which is the value of the <b>callSign</b> parameter.</li>\n            </ul>\n          </li>\n          <li>metrics : Object\n            <br/>\n            Container for information about the audio metrics.\n            <ul>\n              <li>audioBytes : Number\n                <br/>\n                Specifies the number of bytes in the audio.</li>\n              <li>audioTime : Number\n                <br/>\n                Specifies the duration, in seconds, of the audio.</li>\n            </ul>\n          </li>\n          <li>recognized : String\n            <br/>\n            Specifies the text used as the search term.</li>\n          <li>search : Object\n            <br/>\n            Container for the search results.\n            <ul>\n              <li>meta : Object\n                <br/>\n                Container for meta-data about the search results.\n                <ul>\n                  <li>description\n                    <br/>\n                    Specifies the description of the meta-data for the search results.</li>\n                  <li>guideDateEnd : String\n                    <br/>\n                    Specifies the start date of the guide data included in the search results. This parameter is always empty.</li>\n                  <li>guideDateStart : String\n                    <br/>\n                    Specifies the end date of the guide data included in the search results. This parameter is always empty.</li>\n                  <li>lineup : Number\n                    <br/>\n                    Specifies the television market searched.</li>\n                  <li>market : String\n                    <br/>\n                    Specifies the name of the television market searched.</li>\n                  <li>resultCount : Number\n                    <br/>\n                    Specifies the number of entries in the <b>programs</b> parameter.</li>\n                </ul>\n              </li>\n              <li>programs : Object\n                <br/>\n                Container for the programs that match the search term.\n                <ul>\n                  <li>cast : String\n                    <br/>\n                    Specifies the names of the cast. This parameter is always empty.</li>\n                  <li>category : String\n                    <br/>\n                    Specifies keywords describing the program.</li>\n                  <li>description : String\n                    <br/>\n                    Specifies the description of the program.</li>\n                  <li>director : String\n                    <br/>\n                    Specifies the director of the program. This parameter is always empty.</li>\n                  <li>language : String\n                    <br/>\n                    Specifies the language used in the program. The defined values are:\n                    <ul>\n                      <li>en-US\n                        <br/>\n                        US English</li>\n                      <li>es-US\n                        <br/>\n                        US Spanish</li>\n                    </ul>\n                  </li>\n                  <li>mpaaRating : String\n                    <br/>\n                    Specifies the Motion Picture Association of America (MPAA) rating of the program.</li>\n                  <li>originalAirDate : String\n                    <br/>\n                    Specifies the date when the program originally aired. This parameter is empty for movies.</li>\n                  <li>pid : Number\n                    <br/>\n                    Specifies the program ID.</li>\n                  <li>runTime : Number\n                    <br/>\n                    Specifies the duration, in minutes, of the program.</li>\n                  <li>showType : String\n                    <br/>\n                    Specifies the type of program. The defined values are:\n                    <ul>\n                      <li>Movie</li>\n                      <li>News</li>\n                      <li>Special</li>\n                      <li>TV Show</li>\n                    </ul>\n                  </li>\n                  <li>starRating : String\n                    <br/>\n                    Specifies the program rating, from <b>1</b> to <b>5</b>, with a possible <b>+</b> to indicate one-half star. If no rating is available, this parameter is empty.</li>\n                  <li>subtitle : String\n                    <br/>\n                    Specifies the sub-title of the program. This value is the episode title for television shows and empty for movies.</li>\n                  <li>title : String\n                    <br/>\n                    Specifies the title of the program.</li>\n                  <li>year : Number\n                    <br/>\n                    Specifies the year in which the program was made. This value can be used to distinguish an original from a remake.</li>\n                </ul>\n              </li>\n              <li>showtimes : Object\n                <br/>\n                Container for the times when the program is available.\n                <ul>\n                  <li>affiliate : String\n                    <br/>\n                    Specifies the affiliation of the <b>channel</b>.\n                    <ul>\n                      <li>ABC</li>\n                      <li>CBS</li>\n                      <li>FOX</li>\n                      <li>MY NETWORK TV</li>\n                      <li>PBS</li>\n                      <li>NBC</li>\n                      <li>n/a\n                         <br/>\n                         There is no affiliation.</li>\n                    </ul>\n                  </li>\n                  <li>callSign : String\n                    <br/>\n                    Specifies the station call sign. High-definition station call signs include an <b>HD</b> suffix.</li>\n                  <li>channel : Number\n                    <br/>\n                    Specifies the station channel.</li>\n                  <li>closeCaptioned : String\n                    <br/>\n                    Specifies whether the program is close captioned. If this value is <b>CC</b>, the program is close captioned.</li>\n                  <li>dolby : Number\n                    <br/>\n                    Specifies whether the program offers Dolby&reg; stereo channel sound, where <b>1</b> means Dolby stereo is offered and <b>0</b> means it is not.</li>\n                  <li>duration : Number\n                    <br/>\n                    Specifies the duration, in minutes, of the program.</li>\n                  <li>endTime : Number\n                    <br/>\n                    Specifies the end time, in <i>YYMMDDhhmm</i> format, where <i>YY</i> is the last two digits of the year, <i>MM</i> is the month, where January is <b>1</b>, <i>DD</i> is the day, <i>hh</i> is the hour, and <i>mm</i> is the minute.</li>\n                  <li>finale : Number\n                    <br/>\n                    Specifies whether the program is the season finale, where <b>1</b> means that the program is the finale and <b>0</b> means it is not.</li>\n                  <li>hdtv : Number\n                    <br/>\n                    Specifies whether the program is in high definition, where <b>1</b> means that the program is in high definition and <b>0</b> means it is not.</li>\n                 <li>newShow : Number\n                    <br/>\n                    Specifies whether the program is a new episode, where <b>1</b> means that the program is a new episode and <b>0</b> means it is not.</li>\n                  <li>pid : Number\n                    <br/>\n                    Specifies the program ID.</li>\n                  <li>premier : Number\n                    <br/>\n                    Specifies whether the program is a premier, where <b>1</b> means that the program is a premier and <b>0</b> means it is not.</li>\n                  <li>repeat : Number\n                    <br/>\n                    Specifies whether the program is a repeat, where <b>1</b> means that the program is a repeat and <b>0</b> means it is not.</li>\n                  <li>showTime : Number\n                    <br/>\n                    Specifies the time when the program runs, in <i>YYMMDDhhmm</i> format, where <i>YY</i> is the last two digits of the year, <i>MM</i> is the month, where January is <b>1</b>, <i>DD</i> is the day, <i>hh</i> is the hour, and <i>mm</i> is the minute.</li>\n                  <li>station : Number\n                    <br/>\n                    Specifies the station on which the program runs.</li>\n                  <li>stereo : Number\n                    <br/>\n                    Specifies whether the program is in stereo, where <b>1</b> means that the program is in stereo and <b>0</b> means it is not.</li>\n                  <li>subtitled : Number\n                    <br/>\n                    Specifies whether the program has subtitles, where <b>1</b> means that the program has subtitles and <b>0</b> means it does not.</li>\n                  <li>weekday : Number\n                    <br/>\n                    Specifies the day of the week when the program runs, from <b>0</b> (Monday) through <b>6</b> is (Sunday).</li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li>version : String\n            <br/>\n            Specifies the version of the processor providing the response.</li>\n        </ul>\n      </li>\n      <li>NBest : Array of objects\n        <br/>\n        Container for the results of the transcription. There can be multiple transcriptions.\n        <ul>\n          <li>Confidence : Number\n            <br/>\n            Specifies the relative confidence, from <b>0.0</b> (low confidence) to <b>1.0</b> (high confidence), of the resulting text in the <b>Hypothesis</b> parameter.</li>\n          <li>Grade : String\n            <br/>\n            Specifies the relative grade of the resulting text in the <b>ResultText</b> parameter. The defined values for this parameter are:\n            <ul>\n              <li>accept\n                <br/>\n                The text in the <b>ResultText</b> parameter has acceptable confidence and should be accepted.</li>\n              <li>confirm\n                <br/>\n                The text in the <b>ResultText</b> parameter has lower confidence and should be independently confirmed.</li>\n              <li>reject\n                <br/>\n                The text in the <b>ResultText</b> parameter has low confidence and should be rejected.</li>\n            </ul>\n          </li>\n          <li>Hypothesis : String\n            <br/>\n            Specifies the text resulting from the speech translation.</li>\n          <li>LanguageId : String\n            <br/>\n            Specifies the language in which the <b>Hypothesis</b> parameter is encoded. This five-letter value consists of the two-letter ISO639 language code, followed by a hypen (<b>-</b>), and finally followed by the two-letter country code, such as <b>en-us</b>, which specifies US English.</li>\n          <li class=\"optional\">NluHypothesis\n            <br/>\n            Container for the initial interpretation of the speech. These parameters only apply when the <b>xSpeechContext</b> parameter is <b>TV</b>.\n            <ul>\n              <li>genre.id : String\n                <br/>\n                Specifies an identifier for a genre matching all or part of the speech.</li>\n              <li>genre.words : String\n                <br/>\n                Specifies the keywords associated with the <b>genre.id</b> value.</li>\n              <li>station.name : String\n                <br/>\n                The name of the station. This value should match or partially match the call sign of the station, which is the value of the <b>callSign</b> parameter.</li>\n            </ul>\n          </li>\n          <li>ResultText : String\n            <br/>\n            Specifies the resulting text based on the context. This value is typically a variation of the <b>Hypothesis</b> parameter value to make the result more readable or usable for the client.\n            <ul>\n              <li>Words : Object\n                <br/>\n                Container for the words of the <b>ResultText</b> parameter value. This value may omit some of the words of the <b>ResultText</b> parameter value and may be empty, but it never contains words that are not in the <b>ResultText</b> parameter value.</li>\n              <li>Word : Object\n                <br/>\n                Container for each word in the <b>ResultText</b> parameter, with a score.</li>\n              <li>Score\n                <br/>\n                Specifies the confidence in the word, from <b>0.0</b> (not confident) to <b>1.0</b> (very confident).</li>\n            </ul>\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n</ul>\n\n\n<p><b>Examples</b></p>\n\n<p>The following example translates the contents as a web search.</p>\n\n<pre><code>var params = {\n   \"fileObject\" : \"pad7f-9asffhnawe097y...\",\n   \"accessToken\" : '1a2b3c4d5e6f7g8h9i0j',\n   \"contentType\" : 'audio/wav',\n   \"XSpeechContent\" : 'WebSearch'\n};\nvar invocationData = {\n   adapter : 'SpeechAdapter',\n   procedure : 'speechToText',\n   parameters : [params]\n};\noptions = {\n   onSuccess : function(data) {},\n   onFailure : function(error) {} \n};\n\nWL.Client.invokeProcedure(invocationData,options);\n</code></pre>\n\n<p>The following example shows the results of a speech translation of a web search with the text \"bookstores in Glendale, CA\". The results have a high confidence.</p>\n\n<pre><code>{\n   \"Recognition\": {\n      \"ResponseId\": \"1234567890\",\n      \"NBest\": [{\n         \"Hypothesis\": \"bookstores in glendale california\",\n         \"LanguageId\": \"en-us\",\n         \"Confidence\": 0.9,\n         \"Grade\": \"accept\",\n         \"ResultText\": \"bookstores in Glendale, CA\",\n         \"Words\": [\"bookstores\", \"in\", \"glendale\",\"california\"],\n         \"WordScores\": [0.92, 0.73, 0.81, 0.96]\n      }]\n   }\n}\n</code></pre>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});