Ext.data.JsonP.PaymentAdapter({"tagname":"class","name":"PaymentAdapter","autodetected":{},"files":[{"filename":"attWorklightApiDoc.js","href":"attWorklightApiDoc.html#PaymentAdapter"}],"members":[{"name":"deleteNotification","tagname":"method","owner":"PaymentAdapter","id":"method-deleteNotification","meta":{}},{"name":"getNotification","tagname":"method","owner":"PaymentAdapter","id":"method-getNotification","meta":{}},{"name":"getSubscriptionDetails","tagname":"method","owner":"PaymentAdapter","id":"method-getSubscriptionDetails","meta":{}},{"name":"getSubscriptionStatus","tagname":"method","owner":"PaymentAdapter","id":"method-getSubscriptionStatus","meta":{}},{"name":"getTransactionStatus","tagname":"method","owner":"PaymentAdapter","id":"method-getTransactionStatus","meta":{}},{"name":"newSubscription","tagname":"method","owner":"PaymentAdapter","id":"method-newSubscription","meta":{}},{"name":"newTransaction","tagname":"method","owner":"PaymentAdapter","id":"method-newTransaction","meta":{}},{"name":"refundTransaction","tagname":"method","owner":"PaymentAdapter","id":"method-refundTransaction","meta":{}}],"alternateClassNames":[],"aliases":{},"id":"class-PaymentAdapter","short_doc":"The PaymentAdapter API provides developers and merchants the ability to charge digital services directly to an AT&amp...","component":false,"superclasses":[],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Files</h4><div class='dependency'><a href='source/attWorklightApiDoc.html#PaymentAdapter' target='_blank'>attWorklightApiDoc.js</a></div></pre><div class='doc-contents'><p>The PaymentAdapter API provides developers and merchants the ability to charge digital services directly to an AT&amp;T subscriber bill for payment.\nThe new transaction and subscription process includes:</p>\n\n<ul>\n  <li>Authentication of the end-user as an AT&amp;T Subscriber.</li>\n  <li>Presentation of an Advice-of-Charge (AOC) page and the opportunity to cancel.</li>\n</ul>\n\n\n<p>If the subscriber chooses to accept the charge, a Thank You message is presented.</p>\n\n\n<p>The merchant also has the option of automatically receiving notifications of refunds and subscription changes triggered through other AT&amp;T systems. Applications in the initial Sandbox state have lower limits on the number of transactions. All Sandbox payment transactions are refunded weekly. Developers can set certain attributes in the Sandbox environment that are not be available in the production environment. Once an application has been promoted to Production, a more secure environment is maintained where most of the attributes are read-only and may be only changed by the AT&amp;T administrator. Organizations must have a merchant account set up for the Payment Service to work. If your organization does not have a merchant account, contact your Organizational Profile Administrator to arrange for one.</p>\n\n\n<p><b>Usage</b>\nUse the Payment API to:</p>\n\n<ul>\n  <li>Create new transactions and subscriptions</li>\n  <li>Get the status of a transaction or subscription</li>\n  <li>Authorize refunds</li>\n</ul>\n\n\n<p><b>The Payment API provides the following methods:</b></p>\n\n<ul>\n<li><a href=\"#!/api/PaymentAdapter-method-deleteNotification\" rel=\"PaymentAdapter-method-deleteNotification\" class=\"docClass\">deleteNotification</a></li>\n<li><a href=\"#!/api/PaymentAdapter-method-getNotification\" rel=\"PaymentAdapter-method-getNotification\" class=\"docClass\">getNotification</a></li>\n<li><a href=\"#!/api/PaymentAdapter-method-getSubscriptionDetails\" rel=\"PaymentAdapter-method-getSubscriptionDetails\" class=\"docClass\">getSubscriptionDetails</a></li>\n<li><a href=\"#!/api/PaymentAdapter-method-getSubscriptionStatus\" rel=\"PaymentAdapter-method-getSubscriptionStatus\" class=\"docClass\">getSubscriptionStatus</a></li>\n<li><a href=\"#!/api/PaymentAdapter-method-getTransactionStatus\" rel=\"PaymentAdapter-method-getTransactionStatus\" class=\"docClass\">getTransactionStatus</a></li>\n<li><a href=\"#!/api/PaymentAdapter-method-newSubscription\" rel=\"PaymentAdapter-method-newSubscription\" class=\"docClass\">newSubscription</a></li>\n<li><a href=\"#!/api/PaymentAdapter-method-newTransaction\" rel=\"PaymentAdapter-method-newTransaction\" class=\"docClass\">newTransaction</a></li>\n<li><a href=\"#!/api/PaymentAdapter-method-refundTransaction\" rel=\"PaymentAdapter-method-refundTransaction\" class=\"docClass\">refundTransaction</a></li>\n</ul>\n\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-deleteNotification' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='PaymentAdapter'>PaymentAdapter</span><br/><a href='source/attWorklightApiDoc.html#PaymentAdapter-method-deleteNotification' target='_blank' class='view-source'>view source</a></div><a href='#!/api/PaymentAdapter-method-deleteNotification' class='name expandable'>deleteNotification</a>( <span class='pre'>invocationData, callbacks</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Acknowledges that the notification was received and cancels further notifications with the specified ID. ...</div><div class='long'><p>Acknowledges that the notification was received and cancels further notifications with the specified ID.</p>\n\n<p>Authorization Model: <b>client_credentials</b></p>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>invocationData</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>adapter</span> : String<div class='sub-desc'><p>Specifies the name of the adapter. The only defined value for this parameter is <b>PaymentAdapter</b>.</p>\n</div></li><li><span class='pre'>procedure</span> : String<div class='sub-desc'><p>Specifies the name of the procedure. The only defined value for this parameter is <b>deleteNotification</b>.</p>\n</div></li><li><span class='pre'>parameters</span> : Array<div class='sub-desc'><p>Specifies an array that contains a JSON object.</p>\n<ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>accept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n</ul>\n\n</div></li><li><span class='pre'>notificationId</span> : String<div class='sub-desc'><p>Specifies the identifier (ID) of the notification.</p>\n</div></li><li><span class='pre'>accessToken</span> : String<div class='sub-desc'><p>Specifies the access token, which is the value of the <b>access_token</b> parameter returned in the <a href=\"#!/api/OAuthAdapter-method-getAccessToken\" rel=\"OAuthAdapter-method-getAccessToken\" class=\"docClass\">OAuthAdapter.getAccessToken</a> method response.</p>\n</div></li></ul></div></li></ul></div></li></ul></div></li><li><span class='pre'>callbacks</span> : Object<div class='sub-desc'><p>An object containing the success and failure callbacks.</p>\n<ul><li><span class='pre'>onSuccess</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method returns succeeds.</p>\n</div></li><li><span class='pre'>onFailure</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method fails.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>An object containing the results of the call. This object has the following parameters.</p>\n\n<p><b>Examples</b></p>\n\n<p>The following example cancels notifications for ID <strong>12345</strong>.</p>\n\n<pre><code>var params = {\n   'notificationId' : '12345',\n   'accessToken' : '1a2b3c4d5e6f7g8h9i0j',\n}\nvar invocationData = {\n   adapter : \"PaymentAdapter\",\n   procedure : \"deleteNotification\",\n   parameters : [ params ]\n};\noptions = {\n   onSuccess : function(data) {},\n   onFailure : function(error) {} \n};\n\nWL.Client.invokeProcedure(invocationData,options);\n</code></pre>\n\n<p>The following example shows a JSON object returned by this method when the deletion was successful.</p>\n\n<pre><code>{\n   \"Version\":\"1\", \n   \"IsSuccess\":true\n}\n</code></pre>\n</div></li></ul></div></div></div><div id='method-getNotification' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='PaymentAdapter'>PaymentAdapter</span><br/><a href='source/attWorklightApiDoc.html#PaymentAdapter-method-getNotification' target='_blank' class='view-source'>view source</a></div><a href='#!/api/PaymentAdapter-method-getNotification' class='name expandable'>getNotification</a>( <span class='pre'>invocationData, callbacks</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Retrieves a notification object that has been received in a prior notification message as a result of having the serv...</div><div class='long'><p>Retrieves a notification object that has been received in a prior notification message as a result of having the server listen for notification messages. You can get a notification for any of the following events.</p>\n\n<ul>\n  <li>A subscription cancelation event.</li>\n  <li>A subscription stop event.</li>\n  <li>A subscription restore event.</li>\n  <li>A successful refund event.</li>\n</ul>\n\n\n<p>Notifications are sent to the listener at the URL specified by the notification URL in the merchant account for the organization (see the <a href=\"https://developer.att.com/developer/forward.jsp?passedItemId=11900042\">Merchant Details</a> section of your account). This end point is configured in an app in either the Sandbox or Production environment. The notification messages contains one or more notifications. For each notification ID that is sent in the notification message, the app retrieves the details of that notification event by invoking this method using the corresponding notification ID as a key. In the case of successful retrieval of the notification event detail, you have the option of having the AT&amp;T payment system remove the notification event object by invoking the Acknowledge Notification method. If the Acknowledge Notification method is not invoked by the app for a notification ID, then the notification event details can be retrieved until it is removed from the AT&amp;T payment system after the default expiry period of 48 hours. If the Acknowledge Notification method is invoked by the app for a particular notification ID, the event is immediately removed from the notification system without waiting for the default expiry period of 48 hours.</p>\n\n\n<p>Authorization Model: <b>client_credentials</b></p>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>invocationData</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>adapter</span> : String<div class='sub-desc'><p>Specifies the name of the adapter. The only defined value for this parameter is <b>PaymentAdapter</b>.</p>\n</div></li><li><span class='pre'>procedure</span> : String<div class='sub-desc'><p>name of the procedure,value of procedure is getNotification.</p>\n</div></li><li><span class='pre'>parameters</span> : Array<div class='sub-desc'><p>Specifies an array that contains a JSON object.</p>\n<ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>accept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n</ul>\n\n</div></li><li><span class='pre'>notificationId</span> : String<div class='sub-desc'><p>Specifies the identifier (ID) of the notification.</p>\n</div></li><li><span class='pre'>accessToken</span> : String<div class='sub-desc'><p>Specifies the access token, which is the value of the <b>access_token</b> parameter returned in the <a href=\"#!/api/OAuthAdapter-method-getAccessToken\" rel=\"OAuthAdapter-method-getAccessToken\" class=\"docClass\">OAuthAdapter.getAccessToken</a> method response.</p>\n</div></li></ul></div></li></ul></div></li></ul></div></li><li><span class='pre'>callbacks</span> : Object<div class='sub-desc'><p>An object containing the success and failure callbacks.</p>\n<ul><li><span class='pre'>onSuccess</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method returns succeeds.</p>\n</div></li><li><span class='pre'>onFailure</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method fails.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>An object containing the results of the call. This object has the following parameters.</p>\n\n<ul>\n  <li>IsSuccess : String\n    <br/>\n    Specifies whether the request was successful.</li>\n  <li>Version : String\n    <br/>\n    Specifies the version of the request. This value is always <b>1</b>.</li>\n  <li>GetNotificationResponse : String\n    <br/>\n    An object containing the details of the event. The contents of the object depends upon the event.\n    <p><strong>Refund</strong></p>\n    <ul>\n      <li>ConsumerId : String\n        <br/>\n        Specifies the unique ID for the purchaser in the AT&amp;T payment system.</li>\n      <li>CurrentPeriodEndDate : String\n        <br/>\n        The date when the current subscription period ends.</li>\n      <li>CurrentPeriodStartDate : String\n        <br/>\n        The date when the current subscription period starts.</li>\n      <li>MerchantSubscriptionId : String\n        <br/>\n        Specifies the ID of the original subscription to which this refund is associated.</li>\n      <li>NotificationType : String\n        <br/>\n        The type of notification. For a stop subscription this is <strong>StopSubscription</strong>.</li>\n      <li>OriginalPriceAmount : String\n        <br/>\n        The amount of the initial purchase.</li>\n      <li>OriginalTransactionId : String\n        <br/>\n        The ID of the initial transaction.</li>\n      <li>RefundCurrency : String\n        <br/>\n        The currency of the refund. This value is always <strong>USD</strong> (US dollars).</li>\n      <li>RefundFreeText : String\n        <br/>\n        The description of the refund.</li>\n      <li>RefundPriceAmount : String\n        <br/>\n        The amount refunded.</li>\n      <li>RefundReasonId : String\n        <br/>\n        The reason for the refund. The following integer values are defined.\n        <br/>\n        <ol>\n          <li>CP-None</li>\n          <li>CP-Loss of Eligibility</li>\n          <li>CP-Product Termination</li>\n          <li>CP-Abuse of Privileges</li>\n          <li>CP-Conversion to New Product</li>\n          <li>CP-Nonrenewable Product</li>\n          <li>CP-Duplicate Subscription</li>\n          <li>CP-Other</li>\n          <li>Subscriber-None</li>\n          <li>Subscriber-Did Not Use</li>\n          <li>Subscriber-Too Expensive</li>\n          <li>Subscriber-Did Not Like</li>\n          <li>Subscriber-Replaced By Same Company</li>\n          <li>Subscriber-Replaced By Different Company</li>\n          <li>Subscriber-Duplicate Subscription</li>\n          <li>Subscriber-Other</li>\n        </ol>\n      </li>\n      <li>RefundTransactionId : String\n        <br/>\n        The ID of the refund transaction.</li>\n      <li>SubscriptionPeriod : String\n        <br/>\n        Specifies the interval at which the subscription is charged. This value is always <b>MONTHLY</b>.</li>\n      <li>SubscriptionPeriodAmount : String\n        <br/>\n        Specifies the number of periods, as specified in the <b>SubscriptionPeriod</b> parameter, that pass between each renewal. This value is always <b>1</b>.</li>\n      <li>SubscriptionRecurrences : String\n        <br/>\n        Specifies the maximum number of times the subscription can be renewed. The only defined value for this parameter is <b>99999</b>.</li>\n      <li>SubscriptionRemaining : String\n        <br/>\n        Specifies the number of remaining renewals.</li>\n      <li>TransactionDate : String\n        <br/>\n        Specifies the date and time when the refund transaction occurred.</li>\n    </ul>\n    <p><strong>Stop Subscription</strong></p>\n    <ul>\n      <li>ConsumerId : String\n        <br/>\n        Specifies the unique ID for the purchaser in the AT&amp;T payment system.</li>\n      <li>CurrentPeriodEndDate : String\n        <br/>\n        The date when the current subscription period ends.</li>\n      <li>CurrentPeriodStartDate : String\n        <br/>\n        The date when the current subscription period starts.</li>\n      <li>MerchantSubscriptionId : String\n        <br/>\n        Specifies the ID of the original subscription to which this refund is associated.</li>\n      <li>NotificationType : String\n        <br/>\n        The type of notification. For a stop subscription this is <strong>StopSubscription</strong>.</li>\n      <li>OriginalTransactionId : String\n        <br/>\n        The ID of the initial transaction.</li>\n      <li>SubscriptionPeriod : String\n        <br/>\n        Specifies the interval at which the subscription is charged. This value is always <b>MONTHLY</b>.</li>\n      <li>SubscriptionPeriodAmount : String\n        <br/>\n        Specifies the number of periods, as specified in the <b>SubscriptionPeriod</b> parameter, that pass between each renewal. This value is always <b>1</b>.</li>\n      <li>SubscriptionRemaining : String\n        <br/>\n        Specifies the number of remaining renewals.</li>\n      <li>TransactionDate : String\n        <br/>\n        Specifies the date and time when the refund transaction occurred.</li>\n    </ul>\n    <p><strong>Cancel Subscription</strong></p>\n    <ul>\n      <li>ConsumerId : String\n        <br/>\n        Specifies the unique ID for the purchaser in the AT&amp;T payment system.</li>\n      <li>CurrentPeriodEndDate : String\n        <br/>\n        The date when the current subscription period ends.</li>\n      <li>CurrentPeriodStartDate : String\n        <br/>\n        The date when the current subscription period starts.</li>\n      <li>MerchantSubscriptionId : String\n        <br/>\n        Specifies the ID of the original subscription to which this refund is associated.</li>\n      <li>NotificationType : String\n        <br/>\n        The type of notification. For a cancel subscription this is <strong>CancelSubscription</strong>.</li>\n      <li>SubscriptionPeriod : String\n        <br/>\n        Specifies the interval at which the subscription is charged. This value is always <b>MONTHLY</b>.</li>\n      <li>SubscriptionPeriodAmount : String\n        <br/>\n        Specifies the number of periods, as specified in the <b>SubscriptionPeriod</b> parameter, that pass between each renewal. This value is always <b>1</b>.</li>\n      <li>SubscriptionRemaining : String\n        <br/>\n        Specifies the number of remaining renewals.</li>\n      <li>TransactionDate : String\n        <br/>\n        Specifies the date and time when the refund transaction occurred.</li>\n    </ul>\n  </li>\n</ul>\n\n\n<p> <b>Examples</b></p>\n\n<p>The following example gets the notification for the ID <b>12345</b>.</p>\n\n<pre><code>var params = {\n   'notificationId' : '12345',\n   'accessToken' : '1a2b3c4d5e6f7g8h9i0j',\n}\nvar invocationData = {\n   adapter : \"PaymentAdapter\",\n   procedure : \"getNotification\",\n   parameters : [ params ]\n};\noptions = {\n   onSuccess : function(data) {},\n   onFailure : function(error) {} \n};\n\n WL.Client.invokeProcedure(invocationData,options);\n</code></pre>\n\n<p>The following example shows a JSON object returned by this method.</p>\n\n<pre><code>{\n   \"GetNotificationResponse\": {\n      \"NotificationType\": \"SuccesfulRefund\",\n      \"TransactionDate\": \"2012-10-16T00:03:54.167Z\",\n      \"OriginalTransactionId\": \"qICS6NsAH61ID8IpUorPhG4jXCeMYLG5KAZ5\",\n      \"ConsumerId\": \"30eadde4-f26b-4f9b-92eb-6fb9172e86d3\",\n      \"RefundPriceAmount\": \"1.15\",\n      \"RefundCurrency\": \"USD\",\n      \"RefundReasonId\": \"1\",\n      \"RefundFreeText\": \"Customer was not happy\",\n      \"RefundTransactionId\": \"qICS6NsARsQzYpmqb0XkEJWRkd85TFsj5XwW\",\n      \"MerchantSubscriptionId\": \"015170205160\",\n      \"OriginalPriceAmount\": \"1.15\",\n      \"CurrentPeriodStartDate\": \"2012-10-16T00:02:45Z\",\n      \"CurrentPeriodEndDate\": \"2012-11-16T00:02:44.999Z\",      \n      \"SubscriptionPeriodAmount\": \"\",\n      \"SubscriptionPeriod\": \"\",\n      \"SubscriptionRecurrences\": \"\",\n      \"SubscriptionRemaining\": \"\"\n   },\n   \"Version\": \"1\",\n   \"IsSuccess\": true\n}\n</code></pre>\n</div></li></ul></div></div></div><div id='method-getSubscriptionDetails' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='PaymentAdapter'>PaymentAdapter</span><br/><a href='source/attWorklightApiDoc.html#PaymentAdapter-method-getSubscriptionDetails' target='_blank' class='view-source'>view source</a></div><a href='#!/api/PaymentAdapter-method-getSubscriptionDetails' class='name expandable'>getSubscriptionDetails</a>( <span class='pre'>invocationData, callbacks</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Retrieves the details for a merchant subscription to which a consumer has subscribed. ...</div><div class='long'><p>Retrieves the details for a merchant subscription to which a consumer has subscribed. Merchants who manage consumers can use this method to determine the details of a subscriptions for a particular consumer.</p>\n\n<p>Authorization Model: <b>client_credentials</b></p>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>invocationData</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>adapter</span> : String<div class='sub-desc'><p>Specifies the name of the adapter. The only defined value for this parameter is <b>PaymentAdapter</b>.</p>\n</div></li><li><span class='pre'>procedure</span> : String<div class='sub-desc'><p>Specifies the name of the procedure. The only defined value for this parameter is <b>getSubscriptionDetails</b>.</p>\n</div></li><li><span class='pre'>parameters</span> : Array<div class='sub-desc'><p>Specifies an array that contains a JSON object.</p>\n<ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>accept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n</ul>\n\n</div></li><li><span class='pre'>consumerId</span> : String<div class='sub-desc'><p>Specifies the unique ID for the purchaser in the AT&amp;T payment system.</p>\n</div></li><li><span class='pre'>merchantSubscriptionId</span> : String<div class='sub-desc'><p>Specifies the ID of the original subscription to which this subscription is associated.</p>\n</div></li><li><span class='pre'>accessToken</span> : String<div class='sub-desc'><p>Specifies the access token, which is the value of the <b>access_token</b> parameter returned in the <a href=\"#!/api/OAuthAdapter-method-getAccessToken\" rel=\"OAuthAdapter-method-getAccessToken\" class=\"docClass\">OAuthAdapter.getAccessToken</a> method response.</p>\n</div></li></ul></div></li></ul></div></li></ul></div></li><li><span class='pre'>callbacks</span> : Object<div class='sub-desc'><p>An object containing the success and failure callbacks.</p>\n<ul><li><span class='pre'>onSuccess</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method returns succeeds.</p>\n</div></li><li><span class='pre'>onFailure</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method fails.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>An object containing the results of the call. This object has the following parameters.</p>\n\n<ul>\n  <li>CreationDate : String\n    <br/>\n    Specifies the date when the subscription was created.</li>\n  <li>Currency : String\n    <br/>\n    Specifies the currency that was sent in the original charge request. This value is always <b>USD</b> (U.S. dollars).</li>\n  <li>CurrentEndDate : String\n    <br/>\n    The date when the current subscription period ends.</li>\n  <li>CurrentStartDate : String\n    <br/>\n    The date when the current subscription period starts.</li>\n  <li>GrossAmount : Number\n    <br/>\n    Specifies the amount of the subscription renewal, in US dollars.</li>\n  <li>IsActiveSubscription : Boolean\n    <br/>\n    Specifies whether the subscription is active.</li>\n  <li>IsSuccess : Boolean\n    <br/>\n    Specifies whether the request for subscription detail information was successful.</li>\n  <li>Recurrences : Number\n    <br/>\n    Specifies the maximum number of times the subscription can be renewed. The only defined value for this parameter is <b>99999</b>.</li>\n  <li>RecurrencesLeft : Number\n    <br/>\n    Specifies the number of times the that the subscription can be renewed after the current period.</li>\n  <li>Status : String\n    <br/>\n    Specifies the state of the subscription consumption. If the value is ACTIVE, the subscription is consumed.</li>\n  <li>Version : String\n    <br/>\n    Specifies the version of the request. This value is always <b>1</b>.</li>\n</ul>\n\n\n<p><b>Examples</b></p>\n\n<p>The following example gets the subscription details for the consumer with ID <strong>08660eb2-c9c4-48a6-93ea-1c440fa826e4</strong> and merchant subscription ID <strong>619152559466</strong></p>\n\n<pre><code>var params = {\n   'consumerId' : &lt;consumerId value&gt;,\n   'merchantSubscriptionId' : '619152559466',\n   'accessToken' : '1a2b3c4d5e6f7g8h9i0j'\n}\nvar invocationData = {\n   adapter : \"PaymentAdapter\",\n   procedure : \"getSubscriptionDetails\",\n   parameters : [ params ]\n};\noptions = {\n   onSuccess : function(data) {},\n   onFailure : function(error) {} \n};\n\nWL.Client.invokeProcedure(invocationData,options);\n</code></pre>\n\n<p>The following example shows a JSON object returned by this method. The user is charged 5 cents per month for their subscription that started on June 13, 2011.</p>\n\n<pre><code>{\n   \"Currency\":\"USD\",\n   \"Status\":\"ACTIVE\",\n   \"CreationDate\":\"2011-06-13T16:11:16.000+0000\",\n   \"GrossAmount\":0.05,\n   \"Recurrences\":99999,\n   \"IsActiveSubscription\":true,\n   \"CurrentStartDate\":\"...\",\n   \"CurrentEndDate\":\"...\",\n   \"RecurrencesLeft\":2147483647,\n   \"Version\":\"1\",\n   \"IsSuccess\":true\n}\n</code></pre>\n</div></li></ul></div></div></div><div id='method-getSubscriptionStatus' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='PaymentAdapter'>PaymentAdapter</span><br/><a href='source/attWorklightApiDoc.html#PaymentAdapter-method-getSubscriptionStatus' target='_blank' class='view-source'>view source</a></div><a href='#!/api/PaymentAdapter-method-getSubscriptionStatus' class='name expandable'>getSubscriptionStatus</a>( <span class='pre'>invocationData, callbacks</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Retrieves the status, as well as several other fields related to the purchase, of a call to newSubscription. ...</div><div class='long'><p>Retrieves the status, as well as several other fields related to the purchase, of a call to <a href=\"#!/api/PaymentAdapter-method-newSubscription\" rel=\"PaymentAdapter-method-newSubscription\" class=\"docClass\">newSubscription</a>.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>invocationData</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>adapter</span> : String<div class='sub-desc'><p>Specifies the name of the adapter. The only defined value for this parameter is <b>PaymentAdapter</b>.</p>\n</div></li><li><span class='pre'>procedure</span> : String<div class='sub-desc'><p>Specifies the name of the procedure. The only defined value for this parameter is <b>getSubscriptionStatus</b>.</p>\n</div></li><li><span class='pre'>parameters</span> : Array<div class='sub-desc'><p>Specifies an array that contains a JSON object.</p>\n<ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>accept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n</ul>\n\n</div></li><li><span class='pre'>idType</span> : String<div class='sub-desc'><p>Specifies the type of the identifier. The defined values for this parameter are:</p>\n\n<ul>\n  <li>SubscriptionId</li>\n  <li>MerchantTransactionId</li>\n  <li>SubscriptionAuthCode</li>\n</ul>\n\n</div></li><li><span class='pre'>id</span> : String<div class='sub-desc'><p>Specifies the value of the type of the identifier.</p>\n</div></li><li><span class='pre'>accessToken</span> : String<div class='sub-desc'><p>Specifies the access token, which is the value of the <b>access_token</b> parameter returned in the <a href=\"#!/api/OAuthAdapter-method-getAccessToken\" rel=\"OAuthAdapter-method-getAccessToken\" class=\"docClass\">OAuthAdapter.getAccessToken</a> method response.</p>\n</div></li><li><span class='pre'>accept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n</ul>\n\n\n<p>The default is <b>application/json</b>.</p>\n\n</div></li></ul></div></li></ul></div></li></ul></div></li><li><span class='pre'>callbacks</span> : Object<div class='sub-desc'><p>An object containing the success and failure callbacks.</p>\n<ul><li><span class='pre'>onSuccess</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method returns succeeds.</p>\n</div></li><li><span class='pre'>onFailure</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method fails.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>An object containing the results of the call. This object has the following parameters.</p>\n\n<ul>\n <li>Amount : String\n   <br/>\n   The amount of the transaction.</li>\n <li>Channel : String\n   <br/>\n   Specifies the channel through which the payload is delivered. The only supported value is <b>MOBILE_WEB</b>.</li>\n <li>ConsumerId : String\n   <br/>\n   Specifies the unique ID for the purchaser in the AT&amp;T payment system.</li>\n <li>ContentCategory : String\n   <br/>\n   Specifies one of the following categories of product.\n<ol>\n  <li>In app - Games</li>\n  <li>In app - Virtual goods</li>\n  <li>In app - Other</li>\n  <li>Application - Games</li>\n  <li>Application - Other</li>\n</ol></li>\n <li>Currency : String\n   <br/>\n   Specifies the currency that was sent in the original charge request. This value is always <b>USD</b> (U.S. dollars).</li>\n <li>Description : String\n   <br/>\n   Specifies the short description of the product that was sent in the original charge request.</li>\n <li>IsAutoCommitted : String\n   <br/>\n   Specifies whether the transaction is automatically committed.</li>\n <li>IsSuccess : String\n   <br/>\n   Specifies whether the request was successful.</li>\n <li>MerchantApplicationId : String\n   <br/>\n   Specifies the merchant app ID, from the AT&amp;T payment system, that initiated the payment transaction.</li>\n <li>MerchantId : String\n   <br/>\n   Specifies the merchant ID, from the AT&amp;T payment system, that initiated the payment transaction.</li>\n <li>MerchantProductId : String\n   <br/>\n   Specifies the identifier for the product from the merchant, which was sent in the orginal charge request.</li>\n <li>MerchantSubscriptionId : String\n   <br/>\n   Specifies the ID of the original subscription to which this subscription is associated.</li>\n <li>MerchantTransactionId : String\n   <br/>\n   Specifies the original transaction identifier that was generated and sent by the merchant app in the original charge request.</li>\n <li>OriginalTransactionId : String\n   <br/>\n   Specifies the transaction identifier that was generated for the original charge request.</li>\n <li>PeriodAmount : String\n   <br/>\n   Specifies the number of periods between renewals.</li>\n <li>Recurrences : String\n   <br/>\n   Specifies the maximum number of times the subscription can be renewed. The only defined value for this parameter is <b>99999</b>.</li>\n <li>SubscriptionId : String\n   <br/>\n   Specifies the unique ID that generated by the original charge request.</li>\n <li>SubscriptionPeriod : String\n   <br/>\n   Specifies the interval at which the subscription is charged. This value is always <b>MONTHLY</b>.</li>\n <li>SubscriptionStatus : String\n   <br/>\n   Specifies the current status of the transaction. The possible values are:\n<ul>\n  <li>NEW<br/>A transaction context is created and merchant details are validated.</li>\n  <li>DECLINED<br/>The consumer did not approve the transaction.</li>\n  <li>SUCCESSFUL<br/>The transaction was charged successfully.</li>\n  <li>FAILED<br/>The transaction charge failed.</li>\n  <li>UNRESOLVED<br/>There was an internal error that prevented the transaction from successfully completing.</li>\n  <li>CANCELLED<br/>The merchant canceled the transaction.</li>\n</ul></li>\n <li>SubscriptionType : String\n   <br/>\n   Specifies the type of subscription. The defined values for this parameter are:\n<ul>\n  <li>SUBSCRIPTION<br/>The subscription is a regular subscription.</li>\n  <li>SINGLEPAY<br/>The subscription is a one-time purchase.</li>\n</ul></li>\n <li>Version : String\n   <br/>\n   Specifies the version of the request. This value is always <b>1</b>.</li>\n</ul>\n\n\n<p> <b>Examples</b></p>\n\n<p>The following example gets the status of a new subscription with the auth code <code>123</code>.</p>\n\n<pre><code>var params = {\n   'idType' : 'SubscriptionAuthCode',\n   'id' : '123',\n   'accessToken' : '1a2b3c4d5e6f7g8h9i0j',\n}\nvar invocationData = {\n   adapter : \"PaymentAdapter\",\n   procedure : \"getSubscriptionStatus\",\n   parameters : [ params ]\n};\noptions = {\n   onSuccess : function(data) {},\n   onFailure : function(error) {} \n};\n\nWL.Client.invokeProcedure(invocationData,options);\n</code></pre>\n\n<p>The following example shows a JSON object returned by this method. The user is charged $1.35 every month.</p>\n\n<pre><code>{ \n   \"Version\": \"1\",\n   \"IsSuccess\": \"true\",\n   \"Amount\": \"1.35\",\n   \"Channel\": \"MOBILE_WEB\",\n   \"Description\": \"RECUR\",\n   \"Currency\": \"USD\",\n   \"SubscriptionType\": \"SUBSCRIPTION\",\n   \"SubscriptionStatus\": \"SUCCESSFUL\",\n   \"ConsumerId\": \"08660eb2-c9c4-48a6-93ea-1c440fa826e4\",\n   \"MerchantTransactionId\": \"T20120619152559466\",\n   \"MerchantApplicationId\": \"029c091549fd96788537c5c5cbbb94a3\",\n   \"SubscriptionId\": \"6108486931402157\",\n   \"OriginalTransactionId\": \"\",\n   \"ContentCategory\": \"1\",\n   \"MerchantProductId\": \"P20120619152559466\",\n   \"MerchantId\": \"12345678-1234-1234-1234-1234567890abcdef\",\n   \"MerchantSubscriptionId\": \"619152559466\",\n   \"PeriodAmount\": \"1\",\n   \"Recurrences\": \"99999\",\n   \"SubscriptionPeriod\": \"MONTHLY\",\n   \"IsAutoCommitted\": \"false\"\n}\n</code></pre>\n</div></li></ul></div></div></div><div id='method-getTransactionStatus' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='PaymentAdapter'>PaymentAdapter</span><br/><a href='source/attWorklightApiDoc.html#PaymentAdapter-method-getTransactionStatus' target='_blank' class='view-source'>view source</a></div><a href='#!/api/PaymentAdapter-method-getTransactionStatus' class='name expandable'>getTransactionStatus</a>( <span class='pre'>invocationData, callbacks</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Retrieves the status and all relevant information of a previously executed transaction. ...</div><div class='long'><p>Retrieves the status and all relevant information of a previously executed transaction.</p>\n\n<p>Authorization Model: <b>client_credentials</b></p>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>invocationData</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>adapter</span> : String<div class='sub-desc'><p>Specifies the name of the adapter. The only defined value for this parameter is <b>PaymentAdapter</b>.</p>\n</div></li><li><span class='pre'>procedure</span> : String<div class='sub-desc'><p>Specifies the name of the procedure. The only defined value for this parameter is <b>getSubscriptionStatus</b>.</p>\n</div></li><li><span class='pre'>parameters</span> : Array<div class='sub-desc'><p>Specifies an array that contains a JSON object.</p>\n<ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>accept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n</ul>\n\n</div></li><li><span class='pre'>idType</span> : String<div class='sub-desc'><p>Specifies the type of the identifier. The defined values for this parameter are:</p>\n\n<ul>\n  <li>TransactionId</li>\n  <li>MerchantTransactionId</li>\n  <li>TransactionAuthCode</li>\n</ul>\n\n</div></li><li><span class='pre'>id</span> : String<div class='sub-desc'><p>Specifies the value of the type of the identifier.</p>\n</div></li><li><span class='pre'>accessToken</span> : String<div class='sub-desc'><p>Specifies the access token, which is the value of the <b>access_token</b> parameter returned in the <a href=\"#!/api/OAuthAdapter-method-getAccessToken\" rel=\"OAuthAdapter-method-getAccessToken\" class=\"docClass\">OAuthAdapter.getAccessToken</a> method response.</p>\n</div></li><li><span class='pre'>accept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n</ul>\n\n\n<p>The default is <b>application/json</b>.</p>\n\n</div></li></ul></div></li></ul></div></li></ul></div></li><li><span class='pre'>callbacks</span> : Object<div class='sub-desc'><p>An object containing the success and failure callbacks.</p>\n<ul><li><span class='pre'>onSuccess</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method returns succeeds.</p>\n</div></li><li><span class='pre'>onFailure</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method fails.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>An object containing the results of the call. This object has the following parameters.</p>\n\n<ul>\n <li>Amount : String\n   <br/>\n   The amount of the transaction.</li>\n <li>Channel : String\n   <br/>\n   Specifies the channel through which the payload is delivered. The only supported value is <b>MOBILE_WEB</b>.</li>\n <li>ConsumerId : String\n   <br/>\n   Specifies the unique ID for the purchaser in the AT&amp;T payment system.</li>\n <li>ContentCategory : String\n   <br/>\n   Specifies one of the following categories of product.\n<ol>\n  <li>In app - Games</li>\n  <li>In app - Virtual goods</li>\n  <li>In app - Other</li>\n  <li>Application - Games</li>\n  <li>Application - Other</li>\n</ol></li>\n <li>Currency : String\n   <br/>\n   Specifies the currency that was sent in the original charge request. This value is always <b>USD</b> (U.S. dollars).</li>\n <li>Description : String\n   <br/>\n   Specifies the short description of the product that was sent in the original charge request.</li>\n <li>IsSuccess :  : String\n   <br/>\n   Specifies whether the request was successful.</li>\n <li>MerchantApplicationId : String\n   <br/>\n   Specifies the merchant app ID, from the AT&amp;T payment system, that initiated the payment transaction.</li>\n <li>MerchantIdentifier : String\n   <br/>\n   Specifies the merchant ID, from the AT&amp;T payment system, that initiated the payment transaction.</li>\n <li>MerchantProductId : String\n   <br/>\n   Specifies the identifier for the product from the merchant, which was sent in the orginal charge request.</li>\n <li>MerchantTransactionId : String\n   <br/>\n   Specifies the original transaction identifier that was generated and sent by the merchant app in the original charge request.</li>\n <li>TransactionId : String\n   <br/>\n   Specifies the transaction identifier that was generated for the original charge request.</li>\n <li>TransactionStatus : String\n   <br/>\n   Specifies the current status of the transaction. The possible values are:\n<ul>\n  <li>NEW<br/>A transaction context is created and merchant details are validated.</li>\n  <li>DECLINED<br/>The consumer did not approve the transaction.</li>\n  <li>SUCCESSFUL<br/>The transaction was charged successfully.</li>\n  <li>FAILED<br/>The transaction charge failed.</li>\n  <li>UNRESOLVED<br/>There was an internal error that prevented the transaction from successfully completing.</li>\n  <li>CANCELLED<br/>The merchant canceled the transaction.</li>\n</ul></li>\n <li>TransactionType : String\n   <br/>\n   Specifies the type of transaction. The possible values are:\n<ul>\n  <li>SUBSCRIPTION<br/>The transaction was a subscription request.</li>\n  <li>SINGLEPAY<br/>The transaction was a one-time event.</li>\n</ul></li>\n <li>Version : String\n   <br/>\n   Specifies the version of the request. This value is always <b>1</b>.</li>\n</ul>\n\n\n<p><b>Examples</b></p>\n\n<p>The following example gets the status of the transaction with the authorization code <b>123</b>.</p>\n\n<pre><code>var params = {\n   'idType': 'TransactionAuthCode',\n   'id' : '123',\n   'accessToken' : '1a2b3c4d5e6f7g8h9i0j'\n}\nvar invocationData = {\n   adapter : \"PaymentAdapter\",\n   procedure : \"getTransactionStatus\",\n   parameters : [ params ]\n};\noptions = {\n   onSuccess : function(data) {},\n   onFailure : function(error) {} \n};\n\nWL.Client.invokeProcedure(invocationData,options);\n</code></pre>\n\n<p>The following example shows the response returned by this method when the transaction is successful.</p>\n\n<pre><code>{\n   \"Channel\":\"MOBILE_WEB\",\n   \"Description\":\"T20120104223242088\",\n   \"Currency\":\"USD\",\n   \"TransactionType\":\"SINGLEPAY\",\n   \"TransactionStatus\":\"SUCCESSFUL\",\n   \"ConsumerId\":\"7569ad74-e2e1-4c1e-9f49-455cdccfa315\",\n   \"MerchantTransactionId\":\"T20120104223242088\",\n   \"MerchantApplicationId\":\"79b33cf0ddf375044d6b6dada43f7d10\",\n   \"TransactionId\":\"3013735686002133\",\n   \"ContentCategory\":\"1\",\n   \"MerchantProductId\":\"P20120104223242088\",\n   \"MerchantIdentifier\":\"12345678-1234-1234-1234-1234567890abcdef\",\n   \"Amount\":\"1.42\",\n   \"Version\":\"1\",\n   \"IsSuccess\":\"true\"\n}\n</code></pre>\n</div></li></ul></div></div></div><div id='method-newSubscription' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='PaymentAdapter'>PaymentAdapter</span><br/><a href='source/attWorklightApiDoc.html#PaymentAdapter-method-newSubscription' target='_blank' class='view-source'>view source</a></div><a href='#!/api/PaymentAdapter-method-newSubscription' class='name expandable'>newSubscription</a>( <span class='pre'>invocationData, callbacks</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Sets up recurring charges for a specified amount, at a specified interval, for a specified number of times. ...</div><div class='long'><p>Sets up recurring charges for a specified amount, at a specified interval, for a specified number of times.</p>\n\n<p>This method authorizes both the merchant and the user of the subscription, and initializes the product and price data for of the transaction.</p>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>invocationData</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>adapter</span> : String<div class='sub-desc'><p>Specifies the name of the adapter. The only defined value for this parameter is <b>PaymentAdapter</b>.</p>\n</div></li><li><span class='pre'>procedure</span> : String<div class='sub-desc'><p>Specifies the name of the procedure. The only defined value for this parameter is <b>newSubscription</b>.</p>\n</div></li><li><span class='pre'>parameters</span> : Array<div class='sub-desc'><p>Specifies an array that contains a JSON object.</p>\n<ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>signedDocument</span> : String<div class='sub-desc'><p>Specifies the <b>SignedDocument</b> value that is returned by the <a href=\"#!/api/NotaryAdapter-method-getSignedPayload\" rel=\"NotaryAdapter-method-getSignedPayload\" class=\"docClass\">NotaryAdapter.getSignedPayload</a> method.</p>\n</div></li><li><span class='pre'>signature</span> : String<div class='sub-desc'><p>Specifies the signature that is returned by the <a href=\"#!/api/NotaryAdapter-method-getSignedPayload\" rel=\"NotaryAdapter-method-getSignedPayload\" class=\"docClass\">NotaryAdapter.getSignedPayload</a> method.</p>\n</div></li></ul></div></li></ul></div></li></ul></div></li><li><span class='pre'>callbacks</span> : Object<div class='sub-desc'><p>An object containing the success and failure callbacks.</p>\n<ul><li><span class='pre'>onSuccess</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method returns succeeds.</p>\n</div></li><li><span class='pre'>onFailure</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method fails.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>An object containing the results of the call. This object has the following parameters.</p>\n\n<ul>\n  <li>SubscriptionAuthCode : String\n    <br/>\n    Specifies the authentication code for the subscription. This parameter is only present if the subscription is successful.</li>\n  <li>success : String\n    <br/>\n    Specifies the state of the transaction. This parameter is only present if the transaction is not successful and is always <b>false</b> if it is present.</li>\n  <li>faultCode : String\n    <br/>\n    Specifies the error code for the transaction. This parameter is only present if the transaction is not successful. See the <b>Error Codes</b> section of the <a href=\"https://developer.att.com/developer/basicTemplate.jsp?passedItemId=13100102&amp;api=Payment&amp;version=3&amp;method=&amp;provider=#methodsf\">New Transaction topic</a> for details.</li>\n  <li>faultDescription : String\n    <br/>\n    Specifies the description for the error for the transaction. This parameter is only present if the transaction is not successful.</li>\n</ul>\n\n\n<p> <b>Examples</b></p>\n\n<p>The following example sends a new subscription request. The values of the <b>signedDocument</b> and <b>signature</b> parameters have been truncated.</p>\n\n<pre><code>var params = {\n   \"signedDocument\" : 'JTdC...',\n   \"signature\" : 'K2E...',\n};\nvar invocationData = {\n   adapter : \"PaymentAdapter\",\n   procedure : \"newSubscription\",\n   parameters : [ params ]\n};\noptions = {\n   onSuccess : function(data) {},\n   onFailure : function(error) {} \n};\n\nWL.Client.invokeProcedure(invocationData,options);\n</code></pre>\n\n<p>The following example shows the response returned by this method when the transaction is successful.</p>\n\n<pre><code>SubscriptionAuthCode=1234567890abcde\n</code></pre>\n</div></li></ul></div></div></div><div id='method-newTransaction' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='PaymentAdapter'>PaymentAdapter</span><br/><a href='source/attWorklightApiDoc.html#PaymentAdapter-method-newTransaction' target='_blank' class='view-source'>view source</a></div><a href='#!/api/PaymentAdapter-method-newTransaction' class='name expandable'>newTransaction</a>( <span class='pre'>invocationData, callbacks</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Creates a new payment transaction for a one-time product purchase. ...</div><div class='long'><p>Creates a new payment transaction for a one-time product purchase.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>invocationData</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>adapter</span> : String<div class='sub-desc'><p>Specifies the name of the adapter. The only defined value for this parameter is <b>PaymentAdapter</b>.</p>\n</div></li><li><span class='pre'>procedure</span> : String<div class='sub-desc'><p>Specifies the name of the procedure. The only defined value for this parameter is <b>newTransaction</b>.</p>\n</div></li><li><span class='pre'>parameters</span> : Array<div class='sub-desc'><p>Specifies an array that contains a JSON object.</p>\n<ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>signedDocument</span> : String<div class='sub-desc'><p>Specifies the <b>SignedDocument</b> value that is returned by the <a href=\"#!/api/NotaryAdapter-method-getSignedPayload\" rel=\"NotaryAdapter-method-getSignedPayload\" class=\"docClass\">NotaryAdapter.getSignedPayload</a> method.</p>\n</div></li><li><span class='pre'>signature</span> : String<div class='sub-desc'><p>Specifies the signature that is returned by the <a href=\"#!/api/NotaryAdapter-method-getSignedPayload\" rel=\"NotaryAdapter-method-getSignedPayload\" class=\"docClass\">NotaryAdapter.getSignedPayload</a> method.</p>\n</div></li><li><span class='pre'>aceept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n</ul>\n\n\n<p>The default is <b>application/json</b>.</p>\n\n</div></li></ul></div></li></ul></div></li></ul></div></li><li><span class='pre'>callbacks</span> : Object<div class='sub-desc'><p>An object containing the success and failure callbacks.</p>\n<ul><li><span class='pre'>onSuccess</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method returns succeeds.</p>\n</div></li><li><span class='pre'>onFailure</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method fails.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>An object containing the results of the call. This object has the following parameters.</p>\n\n<ul>\n  <li>TransactionAuthCode : String\n    <br/>\n    Specifies the authentication code for the transaction. This parameter is only present if the transaction is successful.</li>\n  <li>success : String\n    <br/>\n    Specifies the state of the transaction. This parameter is only present if the transaction is not successful and is always <b>false</b> if it is present.</li>\n  <li>faultCode : String\n    <br/>\n    Specifies the error code for the transaction. This parameter is only present if the transaction is not successful. See the <b>Error Codes</b> section of the <a href=\"https://developer.att.com/developer/basicTemplate.jsp?passedItemId=13100102&amp;api=Payment&amp;version=3&amp;method=&amp;provider=#methodsf\">New Transaction topic</a> for details.</li>\n  <li>faultDescription : String\n    <br/>\n    Specifies the description for the error for the transaction. This parameter is only present if the transaction is not successful.</li>\n</ul>\n\n\n<p><b>Examples</b></p>\n\n<p>The following example sends a new transaction request. The values of the <b>signedDocument</b> and <b>signature</b> parameters have been truncated.</p>\n\n<pre><code>var params = {\n   'signature' : 'K2E...',\n   'signedDocument' : 'JTdC...',\n};\nvar invocationData = {\n   adapter : \"PaymentAdapter\",\n   procedure : \"newTransaction\",\n   parameters : [ params ]\n};\noptions = {\n   onSuccess : function(data) {},\n   onFailure : function(error) {} \n};\n\nWL.Client.invokeProcedure(invocationData,options);\n</code></pre>\n\n<p>The following example shows the response returned by this method when the transaction is successful.</p>\n\n<pre><code>TransactionAuthCode=1234567890abcde\n</code></pre>\n</div></li></ul></div></div></div><div id='method-refundTransaction' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='PaymentAdapter'>PaymentAdapter</span><br/><a href='source/attWorklightApiDoc.html#PaymentAdapter-method-refundTransaction' target='_blank' class='view-source'>view source</a></div><a href='#!/api/PaymentAdapter-method-refundTransaction' class='name expandable'>refundTransaction</a>( <span class='pre'>invocationData, callbacks</span> ) : Object<span class=\"signature\"></span></div><div class='description'><div class='short'>Refunds the value of a transaction to the original consumer. ...</div><div class='long'><p>Refunds the value of a transaction to the original consumer. This method is invoked through the merchant application and is automatically passed without additional approval.</p>\n\n<p>There are specific limits configured on the number of refunds within a day, week, and month. These limits are configured for a merchant account in the AT&amp;T payment system.</p>\n\n\n<p>Authorization Model: <b>client_credentials</b></p>\n\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>invocationData</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>adapter</span> : String<div class='sub-desc'><p>Specifies the name of the adapter. The only defined value for this parameter is <b>PaymentAdapter</b>.</p>\n</div></li><li><span class='pre'>procedure</span> : String<div class='sub-desc'><p>Specifies the name of the procedure. The only defined value for this parameter is <b>refundTransaction</b>.</p>\n</div></li><li><span class='pre'>parameters</span> : Array<div class='sub-desc'><p>Specifies an array that contains a JSON object.</p>\n<ul><li><span class='pre'>params</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>accept</span> : String (optional)<div class='sub-desc'><p>Specifies the format of the object returned.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n</ul>\n\n</div></li><li><span class='pre'>body</span> : Object<div class='sub-desc'><p>Specifies a JSON object containing the following parameters.</p>\n<ul><li><span class='pre'>TransactionOperationStatus</span> : String<div class='sub-desc'><p>Specifies the operation status of the transaction. The only defined value for this parameter is <b>Refunded</b>.</p>\n</div></li><li><span class='pre'>RefundReasonCode</span> : String<div class='sub-desc'><p>Specifies the reason for the refund. The following integer values are defined for this parameter:</p>\n\n<ol>\n  <li>CP-None</li>\n  <li>CP-Loss of Eligibility</li>\n  <li>CP-Product Termination</li>\n  <li>CP-Abuse of Privileges</li>\n  <li>CP-Conversion to New Product</li>\n  <li>CP-Nonrenewable Product</li>\n  <li>CP-Duplicate Subscription</li>\n  <li>CP-Other</li>\n  <li>Subscriber-None</li>\n  <li>Subscriber-Did Not Use</li>\n  <li>Subscriber-Too Expensive</li>\n  <li>Subscriber-Did Not Like</li>\n  <li>Subscriber-Replaced By Same Company</li>\n  <li>Subscriber-Replaced By Different Company</li>\n  <li>Subscriber-Duplicate Subscription</li>\n  <li>Subscriber-Other</li>\n</ol>\n\n</div></li><li><span class='pre'>RefundReasonText</span> : String<div class='sub-desc'><p>Specifies the description of the reason for the refund.</p>\n</div></li></ul></div></li><li><span class='pre'>transactionId</span> : String<div class='sub-desc'><p>Specifies the transaction identifier that was generated for the original charge request.</p>\n</div></li><li><span class='pre'>action</span> : String<div class='sub-desc'><p>Specifies the action that is performed. This value must be <b>refund</b>.</p>\n</div></li><li><span class='pre'>accessToken</span> : String<div class='sub-desc'><p>Specifies the access token, which is the value of the <b>access_token</b> parameter returned in the <a href=\"#!/api/OAuthAdapter-method-getAccessToken\" rel=\"OAuthAdapter-method-getAccessToken\" class=\"docClass\">OAuthAdapter.getAccessToken</a> method response.</p>\n</div></li><li><span class='pre'>contentType</span> : String<div class='sub-desc'><p>Specifies the format of the contents of the <b>body</b> parameter.</p>\n\n<p>The defined values for this parameter are:</p>\n\n\n<ul>\n  <li><b>application/json</b></li>\n  <li><b>application/xml</b></li>\n  <li><b>application/x-www-form-urlencoded</b></li>\n</ul>\n\n</div></li></ul></div></li></ul></div></li></ul></div></li><li><span class='pre'>callbacks</span> : Object<div class='sub-desc'><p>An object containing the success and failure callbacks.</p>\n<ul><li><span class='pre'>onSuccess</span> : Function<div class='sub-desc'><p>The Specifies the function that is called if the method returns succeeds.</p>\n</div></li><li><span class='pre'>onFailure</span> : Function<div class='sub-desc'><p>Specifies the function that is called if the method fails.</p>\n</div></li></ul></div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Object</span><div class='sub-desc'><p>An object containing the results of the call. This object has the following parameters.</p>\n\n<ul>\n  <li>CommitConfirmationId : String\n    <br/>\n    Specifies the confirmation ID. This value only returned if the transaction was a subscription and the <b>IsAutoCommitted</b> value returned by <a href=\"#!/api/PaymentAdapter-method-getTransactionStatus\" rel=\"PaymentAdapter-method-getTransactionStatus\" class=\"docClass\">getTransactionStatus</a> method is <b>true</b>.</li>\n  <li>IsSuccess : String\n    <br/>\n    Specifies whether the refund was successful.</li>\n  <li>OriginalPurchaseAmount : String\n    <br/>\n    Specifies the amount of the original purchase.</li>\n  <li>TransactionId : String\n    <br/>\n    Specifies the unique ID for the refund request.</li>\n  <li>TransactionStatus : String\n    <br/>\n    Specifies the status of the refund request. The possible values are:\n<ul>\n  <li>SUCCESSFUL\n    <br/>The refund succeeded.</li>\n  <li><i>other</i>\n    <br/>The refund did not succeed.</li>\n</ul></li>\n  <li>Version : String\n    <br/>\n    Specifies the version of the request. This value is always <b>1</b>.</li>\n</ul>\n\n\n<p><strong>Examples</strong></p>\n\n<p>The following example refunds the transaction because the subscriber was too busy to use the service.</p>\n\n<pre><code>var params = {\n   \"body\":{\n      \"TransactionOperationStatus\" : \"Refunded\",\n      \"RefundReasonCode\" : \"10\",\n      \"RefundReasonText\": \"Too busy\"\n   },\n   \"transactionId\" : \"1234567890\",\n   \"contentType\" : \"application/json\",\n   \"action\" : \"refund\",\n   \"accessToken\" : \"1a2b3c4d5e6f7g8h9i0j\"\n }\n var invocationData = {\n    adapter : \"PaymentAdapter\",\n    procedure : \"refundTransaction\",\n    parameters : [ params ]\n };\n options = {\n    onSuccess : function(data) {},\n    onFailure : function(error) {} \n };\n\n WL.Client.invokeProcedure(invocationData,options);\n</code></pre>\n\n<p>The following example shows the response returned by this method when the refund is successful. The user was refunded one cent.</p>\n\n<pre><code>{\n   \"IsSuccess\": true,\n   \"Version\": \"1\",\n   \"TransactionId\": \"1234567890\",\n   \"TransactionStatus\": \"SUCCESSFUL\",\n   \"OriginalPurchaseAmount\": \"0.01\",\n   \"CommitConfirmationId\": \"\"\n}\n</code></pre>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});